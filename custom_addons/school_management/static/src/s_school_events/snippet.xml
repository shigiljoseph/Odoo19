<?xml version="1.0" encoding="UTF-8" ?>
    <templates xml:space="preserve" >
       <t t-name="school_management.school_event_snippet">
            <section>
            <div class="container">
                <br/>
                <h2 align="center" style="color: #007bff; font-family: 'Helvetica Neue';">School Events</h2>
                <br/><br/>
                <div t-att-id="'eventsCarousel-' + result.id" class="carousel carousel-dark slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <t t-foreach="result.events" t-as="chunk" t-key="chunk_index">
                            <div t-att-class="'carousel-item' + (chunk_index == 0 ? ' active' : '')">
                                <div class="row justify-content-center">
                                    <t t-foreach="chunk" t-as="each" t-key="each.id">
                                        <div class="col-12 col-sm-6 col-lg-4 mb-4">
                                            <a t-attf-href="/event_details/#{each.id}" style="text-decoration: none; color: inherit; display: block;">
                                                <div class="card shadow-sm h-100" style="border: 1px solid #e0e0e0; border-radius: 8px; overflow: hidden;">
                                                    <div class="card-body d-flex flex-column">
                                                        <h5 class="card-title text-primary" style="font-size: 1.25rem; margin-bottom: 0.75rem;">
                                                            <t t-esc="each.name"/>
                                                        </h5>
                                                        <div class="flex-grow-1">
                                                            <t t-if="each.image">
                                                                <img t-att-src="'data:image/png;base64,' + each.image"
                                                                     class="img-fluid rounded mb-3"
                                                                     style="max-height: 200px; object-fit: cover; width: 100%; border-radius: 4px;"/>
                                                            </t>
                                                            <p style="margin: 0.4rem 0; font-size: 0.95rem;">
                                                                <strong>Start:</strong> <t t-esc="each.start_date"/>
                                                            </p>
                                                            <p style="margin: 0.4rem 0; font-size: 0.95rem;">
                                                                <strong>End:</strong> <t t-esc="each.end_date"/>
                                                            </p>
                                                            <p style="margin: 0.4rem 0; font-size: 0.95rem;">
                                                                <strong>Club:</strong>
                                                                <span t-esc="each.club_id[1]"/>
                                                            </p>
                                                            <p class="text-muted" style="font-size: 0.9rem; margin-top: 0.5rem;">
                                                                This event is organized by the <t t-esc="each.club_id[1]"/> club.
                                                                It will take place from <t t-esc="each.start_date"/> to <t t-esc="each.end_date"/>.
                                                                Don't miss this exciting opportunity!
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </a>
                                        </div>
                                    </t>
                                </div>
                            </div>
                        </t>
                    </div>
                    <a class="carousel-control-prev" t-attf-href="#eventsCarousel-#{result.id}" data-bs-slide="prev"
                       style="position: absolute; top: 50%; left: -30px; transform: translateY(-50%); z-index: 1000; width: 30px;">
                        <span class="carousel-control-prev-icon"/>
                    </a>
                    <a class="carousel-control-next" t-attf-href="#eventsCarousel-#{result.id}" data-bs-slide="next"
                       style="position: absolute; top: 50%; right: -30px; transform: translateY(-50%); z-index: 1000; width: 30px;">
                        <span class="carousel-control-next-icon"/>
                    </a>
                </div>
                <br/>
            </div>
        </section>
    </t>
    </templates>


